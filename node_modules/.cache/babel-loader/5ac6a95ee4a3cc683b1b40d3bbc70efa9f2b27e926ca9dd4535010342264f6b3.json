{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\Projetyacine\\\\agence-voyage\\\\src\\\\components\\\\ReservationForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CREATE_RESERVATION = gql`\n  mutation CreateReservation($input: ReservationInput!) {\n    createReservation(input: $input) {\n      reservation {\n        id\n        nom\n        prenom\n        email\n        destination\n        dateVoyage\n        nombrePersonnes\n        statut\n      }\n    }\n  }\n`;\nexport default function ReservationForm() {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    destination: '',\n    dateVoyage: '',\n    nombrePersonnes: 1\n  });\n  const [errors, setErrors] = useState({});\n  const [createReservation, {\n    loading,\n    error\n  }] = useMutation(CREATE_RESERVATION, {\n    onCompleted(data) {\n      const id = data.createReservation.reservation.id;\n      navigate(`/reservation/${id}`);\n    }\n  });\n  const validate = () => {\n    const newErrors = {};\n    if (!formData.nom.trim()) newErrors.nom = 'Le nom est obligatoire';\n    if (!formData.prenom.trim()) newErrors.prenom = 'Le prénom est obligatoire';\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) newErrors.email = \"L'email est invalide\";\n    if (!formData.destination.trim()) newErrors.destination = 'La destination est obligatoire';\n    if (!formData.dateVoyage) newErrors.dateVoyage = 'La date est obligatoire';\n    if (formData.nombrePersonnes < 1) newErrors.nombrePersonnes = 'Minimum 1 personne';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'nombrePersonnes' ? parseInt(value) || 1 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!validate()) return;\n    createReservation({\n      variables: {\n        input: formData\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-white via-blue-50 to-yellow-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 space-y-6 border border-blue-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-extrabold text-blue-900 text-center mb-4\",\n        children: \"\\u2708\\uFE0F R\\xE9server un voyage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), [{\n        name: 'nom',\n        label: 'Nom'\n      }, {\n        name: 'prenom',\n        label: 'Prénom'\n      }, {\n        name: 'email',\n        label: 'Email',\n        type: 'email'\n      }, {\n        name: 'destination',\n        label: 'Destination'\n      }, {\n        name: 'dateVoyage',\n        label: 'Date du voyage',\n        type: 'date'\n      }, {\n        name: 'nombrePersonnes',\n        label: 'Nombre de personnes',\n        type: 'number'\n      }].map(({\n        name,\n        label,\n        type = 'text'\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: name,\n          className: \"block text-blue-800 font-semibold mb-1\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: type,\n          id: name,\n          name: name,\n          value: formData[name],\n          onChange: handleChange,\n          className: `w-full p-3 rounded-xl border text-lg shadow-sm focus:outline-none focus:ring-2 ${errors[name] ? 'border-red-500 ring-red-100' : 'border-gray-300 focus:ring-blue-200'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), errors[name] && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mt-1\",\n          children: errors[name]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)]\n      }, name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        className: \"w-full bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-bold py-3 rounded-xl transition-all duration-200 shadow-md disabled:opacity-50\",\n        children: loading ? 'Réservation...' : 'Réserver maintenant'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 text-center mt-4\",\n        children: [\"Erreur : \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(ReservationForm, \"ERQoLDaYmKWa8xADHaRhsyGH4Us=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["React","useState","gql","useMutation","useNavigate","jsxDEV","_jsxDEV","CREATE_RESERVATION","ReservationForm","_s","navigate","formData","setFormData","nom","prenom","email","destination","dateVoyage","nombrePersonnes","errors","setErrors","createReservation","loading","error","onCompleted","data","id","reservation","validate","newErrors","trim","emailRegex","test","Object","keys","length","handleChange","e","name","value","target","prev","parseInt","handleSubmit","preventDefault","variables","input","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","label","type","map","htmlFor","onChange","disabled","message","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/Projetyacine/agence-voyage/src/components/ReservationForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { gql, useMutation } from '@apollo/client';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst CREATE_RESERVATION = gql`\r\n  mutation CreateReservation($input: ReservationInput!) {\r\n    createReservation(input: $input) {\r\n      reservation {\r\n        id\r\n        nom\r\n        prenom\r\n        email\r\n        destination\r\n        dateVoyage\r\n        nombrePersonnes\r\n        statut\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function ReservationForm() {\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    nom: '',\r\n    prenom: '',\r\n    email: '',\r\n    destination: '',\r\n    dateVoyage: '',\r\n    nombrePersonnes: 1,\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [createReservation, { loading, error }] = useMutation(CREATE_RESERVATION, {\r\n    onCompleted(data) {\r\n      const id = data.createReservation.reservation.id;\r\n      navigate(`/reservation/${id}`);\r\n    },\r\n  });\r\n\r\n  const validate = () => {\r\n    const newErrors = {};\r\n    if (!formData.nom.trim()) newErrors.nom = 'Le nom est obligatoire';\r\n    if (!formData.prenom.trim()) newErrors.prenom = 'Le prénom est obligatoire';\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(formData.email)) newErrors.email = \"L'email est invalide\";\r\n    if (!formData.destination.trim()) newErrors.destination = 'La destination est obligatoire';\r\n    if (!formData.dateVoyage) newErrors.dateVoyage = 'La date est obligatoire';\r\n    if (formData.nombrePersonnes < 1) newErrors.nombrePersonnes = 'Minimum 1 personne';\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: name === 'nombrePersonnes' ? parseInt(value) || 1 : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) return;\r\n    createReservation({ variables: { input: formData } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-white via-blue-50 to-yellow-50 flex items-center justify-center p-4\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 space-y-6 border border-blue-100\"\r\n      >\r\n        <h1 className=\"text-3xl font-extrabold text-blue-900 text-center mb-4\">\r\n          ✈️ Réserver un voyage\r\n        </h1>\r\n\r\n        {[\r\n          { name: 'nom', label: 'Nom' },\r\n          { name: 'prenom', label: 'Prénom' },\r\n          { name: 'email', label: 'Email', type: 'email' },\r\n          { name: 'destination', label: 'Destination' },\r\n          { name: 'dateVoyage', label: 'Date du voyage', type: 'date' },\r\n          { name: 'nombrePersonnes', label: 'Nombre de personnes', type: 'number' },\r\n        ].map(({ name, label, type = 'text' }) => (\r\n          <div key={name}>\r\n            <label htmlFor={name} className=\"block text-blue-800 font-semibold mb-1\">\r\n              {label}\r\n            </label>\r\n            <input\r\n              type={type}\r\n              id={name}\r\n              name={name}\r\n              value={formData[name]}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 rounded-xl border text-lg shadow-sm focus:outline-none focus:ring-2 ${\r\n                errors[name]\r\n                  ? 'border-red-500 ring-red-100'\r\n                  : 'border-gray-300 focus:ring-blue-200'\r\n              }`}\r\n            />\r\n            {errors[name] && (\r\n              <p className=\"text-red-500 text-sm mt-1\">{errors[name]}</p>\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={loading}\r\n          className=\"w-full bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-bold py-3 rounded-xl transition-all duration-200 shadow-md disabled:opacity-50\"\r\n        >\r\n          {loading ? 'Réservation...' : 'Réserver maintenant'}\r\n        </button>\r\n\r\n        {error && (\r\n          <p className=\"text-red-600 text-center mt-4\">Erreur : {error.message}</p>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}